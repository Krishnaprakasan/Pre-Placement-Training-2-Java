class Solution {
    public String decodeString(String s) {
        Stack <StringBuilder> stringStack= new Stack<>();
        Stack <Integer> countStack= new Stack<>();
        int k=0;
        StringBuilder str=new StringBuilder();
        for(char c:s.toCharArray())
        {
            if(Character.isDigit(c))
            {
                k=k*10+(c-'0');
            }
            else if(c=='[')
            {
                countStack.push(k);
                stringStack.push(str);
                k=0;
                str=new StringBuilder();
            }
            else if(c==']')
            {
                StringBuilder add=stringStack.pop();
                int count=countStack.pop();
                StringBuilder temp=new StringBuilder();
                for(int i=0;i<count;i++)
                add.append(str);
                str=add;
            }
            else
            str.append(c);
           
        }
         return str.toString();
    }
}
